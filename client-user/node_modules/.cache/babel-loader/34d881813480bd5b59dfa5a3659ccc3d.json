{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\hp\\\\Desktop\\\\Chat-Application-master\\\\client-user\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\hp\\\\Desktop\\\\Chat-Application-master\\\\client-user\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\hp\\\\Desktop\\\\Chat-Application-master\\\\client-user\\\\src\\\\components\\\\LoginForm.js\";\n\nimport React from 'react';\nimport { useRef } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport FieldItem from './FieldItem';\nimport './Form.css';\nimport axios from 'axios';\n\nvar LoginForm = function LoginForm() {\n  var history = useHistory();\n  var emailRef = useRef();\n  var passwordRef = useRef();\n\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      var data;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n              data = {\n                email: emailRef.current.value,\n                password: passwordRef.current.value\n              };\n              console.log(data);\n              _context.next = 5;\n              return axios({\n                method: 'post',\n                url: 'http://localhost:3000/api/login',\n                headers: {\n                  'Access-Control-Allow-Origin': '*',\n                  'Content-Type': 'application/json'\n                },\n                data: data\n              }).then(function (response) {\n                localStorage.setItem('__TOKEN__', response.data);\n                history.push('/home');\n              }).catch(function (error) {\n                console.error('There was an error!', error);\n              });\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleSubmit(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/React.createElement(\"form\", {\n    className: \"form-form\",\n    onSubmit: handleSubmit,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(FieldItem, {\n    ref: emailRef,\n    label: \"Email:\",\n    type: \"email\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(FieldItem, {\n    ref: passwordRef,\n    label: \"Password:\",\n    type: \"password\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"submit-btn-form\",\n    type: \"submit\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 11\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"submit-btn-form\",\n    onClick: function onClick() {\n      history.push('/register');\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 11\n    }\n  }, \"Sign in\")));\n};\n\nexport default L;","map":{"version":3,"sources":["C:/Users/hp/Desktop/Chat-Application-master/client-user/src/components/LoginForm.js"],"names":["React","useRef","useHistory","FieldItem","axios","LoginForm","history","emailRef","passwordRef","handleSubmit","e","preventDefault","data","email","current","value","password","console","log","method","url","headers","then","response","localStorage","setItem","push","catch","error","L"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,QAAuB,OAAvB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAO,YAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,IAAMC,SAAS,GAAG,SAAZA,SAAY,GAAM;AACpB,MAAIC,OAAO,GAAGJ,UAAU,EAAxB;AACA,MAAMK,QAAQ,GAAGN,MAAM,EAAvB;AACA,MAAMO,WAAW,GAAGP,MAAM,EAA1B;;AAEA,MAAMQ,YAAY;AAAA,wEAAG,iBAAOC,CAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACjBA,cAAAA,CAAC,CAACC,cAAF;AACMC,cAAAA,IAFW,GAEJ;AACTC,gBAAAA,KAAK,EAAEN,QAAQ,CAACO,OAAT,CAAiBC,KADf;AAETC,gBAAAA,QAAQ,EAAER,WAAW,CAACM,OAAZ,CAAoBC;AAFrB,eAFI;AAMjBE,cAAAA,OAAO,CAACC,GAAR,CAAYN,IAAZ;AANiB;AAAA,qBAQXR,KAAK,CAAC;AACVe,gBAAAA,MAAM,EAAE,MADE;AAEVC,gBAAAA,GAAG,EAAE,iCAFK;AAGVC,gBAAAA,OAAO,EAAE;AACP,iDAA+B,GADxB;AAEP,kCAAgB;AAFT,iBAHC;AAOVT,gBAAAA,IAAI,EAAEA;AAPI,eAAD,CAAL,CAQHU,IARG,CAQE,UAACC,QAAD,EAAc;AACpBC,gBAAAA,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAkCF,QAAQ,CAACX,IAA3C;AACAN,gBAAAA,OAAO,CAACoB,IAAR,CAAa,OAAb;AACD,eAXK,EAWHC,KAXG,CAWG,UAACC,KAAD,EAAW;AAChBX,gBAAAA,OAAO,CAACW,KAAR,CAAc,qBAAd,EAAqCA,KAArC;AACH,eAbK,CARW;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAZnB,YAAY;AAAA;AAAA;AAAA,KAAlB;;AAwBA,sBACE;AAAM,IAAA,SAAS,EAAC,WAAhB;AAA4B,IAAA,QAAQ,EAAEA,YAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AAAW,IAAA,GAAG,EAAEF,QAAhB;AAA0B,IAAA,KAAK,EAAC,QAAhC;AAAyC,IAAA,IAAI,EAAC,OAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE,oBAAC,SAAD;AAAW,IAAA,GAAG,EAAEC,WAAhB;AAA6B,IAAA,KAAK,EAAC,WAAnC;AAA+C,IAAA,IAAI,EAAC,UAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAQ,IAAA,SAAS,EAAC,iBAAlB;AAAoC,IAAA,IAAI,EAAC,QAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,eAEE;AAAQ,IAAA,SAAS,EAAC,iBAAlB;AAAoC,IAAA,OAAO,EAAE,mBAAM;AAACF,MAAAA,OAAO,CAACoB,IAAR,CAAa,WAAb;AAA0B,KAA9E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAFF,CAHF,CADF;AAUH,CAvCD;;AAyCA,eAAeG,CAAf","sourcesContent":["import React from 'react';\r\nimport { useRef } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport FieldItem from './FieldItem';\r\nimport './Form.css';\r\nimport axios from 'axios';\r\n\r\nconst LoginForm = () => {\r\n    let history = useHistory();\r\n    const emailRef = useRef();\r\n    const passwordRef = useRef();\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        const data = {\r\n            email: emailRef.current.value,\r\n            password: passwordRef.current.value\r\n        };\r\n        console.log(data);\r\n        \r\n        await axios({\r\n          method: 'post',\r\n          url: 'http://localhost:3000/api/login',\r\n          headers: {\r\n            'Access-Control-Allow-Origin': '*',\r\n            'Content-Type': 'application/json',\r\n          },\r\n          data: data\r\n        }).then((response) => {\r\n          localStorage.setItem('__TOKEN__', response.data);\r\n          history.push('/home');\r\n        }).catch((error) => {\r\n            console.error('There was an error!', error);\r\n        });\r\n    };\r\n\r\n    return (\r\n      <form className=\"form-form\" onSubmit={handleSubmit} >\r\n        <FieldItem ref={emailRef} label=\"Email:\" type=\"email\" />\r\n        <FieldItem ref={passwordRef} label=\"Password:\" type=\"password\" />\r\n        <div>\r\n          <button className=\"submit-btn-form\" type=\"submit\">Login</button>\r\n          <button className=\"submit-btn-form\" onClick={() => {history.push('/register')}}>Sign in</button>\r\n        </div>\r\n      </form>\r\n    );\r\n};\r\n\r\nexport default L"]},"metadata":{},"sourceType":"module"}